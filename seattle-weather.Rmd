---
title: "Seattle Cloud Cover"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

Load required libraries
```{r}
library(lubridate)
```

Setup date ranges to search
```{r}

start_date <- '2015-01-01'
end_date <- '2017-01-01'
all_dates <- seq.Date(from=as.Date(startDate),to=as.Date(endDate),by = 1)
```

Function for retrieving available weather data
```{r}
getCleanDataForDate <- function(stationCode, this_date) {
  url <- paste0('https://www.wunderground.com/history/airport/',
                stationCode, '/',
                year(this_date), '/',
                month(this_date), '/',
                day(this_date), '/',
                'DailyHistory.html?format=1')
  downloaded_data <- read.csv(url)
  downloaded_data[,'DateUTC.br...'] <- gsub('<br />', '',
                                            as.character(downloaded_data[,'DateUTC.br...']))
}
```


